# ビンゴタスク一覧更新ツール

ビンゴタスク一覧を更新するためのツールを用意しました。  
[ビンゴタスク一覧](../notes/tasks.md)を更新する際にはこのツールを使用して下さい。

# 実行環境

| 名称   | バージョン/条件 | 備考                                                                                                                        |
| ------ | --------------- | --------------------------------------------------------------------------------------------------------------------------- |
| bash   | -               | シェルスクリプト(`.sh`)が実行できれば代用可。<br>シェルスクリプトが実行できなくても代替となるコマンドが実行できるなら不要。 |
| Python | 3.8.0 以上      |                                                                                                                             |
| pipenv | 2020.11.15 以降 |                                                                                                                             |

# ツールの実行方法

1.  ビンゴデータが定義されているソースコードを取得する

    下記 URL から対象のバージョンのタスクデータ(`goal-list.js`)を取得してください。

    https://github.com/ootbingo/bingo/tree/main

2.  ビンゴデータを`json`化する

    取得した`goal-list.js`を基に`goal-list.json`を作成していきます。  
    なお、この作業は手動で行う必要があるので、下記の説明に従って進めて下さい。

    `goal-list.js`は`bingoList`というオブジェクトの変数でタスクデータがまとめられています。

    ```javascript
    var bingoList = {
      // 中身は省略
    };
    ```

    `bingoList`オブジェクトからパースしたいタスクデータを`json`形式で抜き出します。

    例: Normal タスクを取り出す場合は`bingoList.normal`を抜き出す

    抜き出した`json`形式のタスクデータを`goal-list.json`に貼り付けて保存することで登録が完了です。

3.  python を実行する

    ```bash
    cd oot-bingo-note
    bash setup.sh
    pipenv run main > bingo-tasks.txt
    ```

    \* リポジトリのルートディレクトリで実行する必要があることに注意
